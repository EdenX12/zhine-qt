{"remainingRequest":"D:\\Work\\jianpanHt\\jpqt\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Work\\jianpanHt\\jpqt\\src\\pages\\order\\OrdTaskOrder.vue?vue&type=style&index=0&id=231a092d&scoped=true&lang=css&","dependencies":[{"path":"D:\\Work\\jianpanHt\\jpqt\\src\\pages\\order\\OrdTaskOrder.vue","mtime":1591608111731},{"path":"D:\\Work\\jianpanHt\\jpqt\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"D:\\Work\\jianpanHt\\jpqt\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\Work\\jianpanHt\\jpqt\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\Work\\jianpanHt\\jpqt\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Work\\jianpanHt\\jpqt\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n.table-product-img {\r\n  display: block;\r\n  margin: auto;\r\n  width: 50px;\r\n  height: 50px;\r\n}\r\n.name-input {\r\n  width: 180px;\r\n  margin-right: 10px;\r\n}\r\n.handle-box {\r\n  margin-bottom: 10px;\r\n  text-align: left;\r\n}\r\n.type-select {\r\n  margin-right: 10px;\r\n  width: 180px;\r\n}\r\n.demo-table-expand {\r\n  font-size: 0;\r\n}\r\n.demo-table-expand label {\r\n  width: 90px;\r\n  color: #99a9bf;\r\n}\r\n.demo-table-expand .el-form-item {\r\n  margin-right: 0;\r\n  margin-bottom: 0;\r\n  width: 50%;\r\n}\r\n.upload-demo {\r\n  float: right;\r\n}\r\n",{"version":3,"sources":["OrdTaskOrder.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"OrdTaskOrder.vue","sourceRoot":"src/pages/order","sourcesContent":["<template>\r\n  <div style=\"margin-top:10px\">\r\n    <div class=\"container\">\r\n      <!--搜索条件-->\r\n      <div class=\"handle-box\">\r\n        <el-input v-model=\"query.orderSn\" placeholder=\"请输入订单编号\" class=\"name-input\"></el-input>\r\n        <el-input v-model=\"query.nickName\" placeholder=\"请输入用户昵称\" class=\"name-input\"></el-input>\r\n        <el-input v-model=\"query.productName\" placeholder=\"请输入商品名称\" class=\"name-input\"></el-input>\r\n        <el-select v-model=\"query.payStatus\" placeholder=\"请选择付款状态\" class=\"type-select\">\r\n          <el-option v-for=\"item in statusList\" :key=\"item.id\" :label=\"item.name\" :value=\"item.id\"></el-option>\r\n        </el-select>\r\n        <el-button type=\"primary\" round icon=\"el-icon-search\" @click=\"handleSearch()\">搜索</el-button>\r\n        <el-button type=\"danger\" round icon=\"el-icon-refresh\" @click=\"resetQuery()\">重置</el-button>\r\n      </div>\r\n      <!--数据表单-->\r\n      <el-table\r\n        :data=\"tableData\"\r\n        :header-cell-style=\"tableHeaderColor\"\r\n        class=\"table\"\r\n        ref=\"multipleTable\"\r\n        header-cell-class-name=\"table-header\"\r\n        v-loading=\"tableDataLoading\"\r\n      >\r\n        <el-table-column label=\"序号\" type=\"index\" width=\"50\" align=\"center\"></el-table-column>\r\n        <el-table-column prop=\"orderSn\" label=\"订单编号\" align=\"center\" width=\"200px\"></el-table-column>\r\n        <el-table-column prop=\"nickName\" label=\"用户昵称\" align=\"center\"></el-table-column>\r\n        <el-table-column\r\n          prop=\"productName\"\r\n          label=\"商品名称\"\r\n          align=\"center\"\r\n          :show-overflow-tooltip=\"true\"\r\n        ></el-table-column>\r\n        <el-table-column prop=\"taskNumber\" label=\"任务份数\" align=\"center\" width=\"80px\"></el-table-column>\r\n        <el-table-column prop=\"payAmount\" label=\"支付金额\" align=\"center\" width=\"80px\"></el-table-column>\r\n        <el-table-column prop=\"payStatus\" label=\"付款状态\" :formatter=\"statusFormat\" align=\"center\"></el-table-column>\r\n        <el-table-column\r\n          prop=\"createTime\"\r\n          label=\"创建时间\"\r\n          :formatter=\"createDateFormat\"\r\n          align=\"center\"\r\n        ></el-table-column>\r\n        <el-table-column label=\"操作\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button\r\n              type=\"primary\"\r\n              icon=\"el-icon-more-outline\"\r\n              circle\r\n              @click=\"handleMore(scope.$index, scope.row)\"\r\n            ></el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <!-- 分页 -->\r\n      <div class=\"pagination\">\r\n        <el-pagination\r\n          background\r\n          layout=\"total, prev, pager, next\"\r\n          :current-page=\"query.pageNum\"\r\n          :page-size=\"query.pageSize\"\r\n          :total=\"pageTotal\"\r\n          @current-change=\"handlePageChange\"\r\n        ></el-pagination>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: \"order\",\r\n  data() {\r\n    return {\r\n      query: {\r\n        pageNum: 1,\r\n        pageSize: 10\r\n      },\r\n      tableData: [],\r\n      pageTotal: 0,\r\n      tableDataLoading: true,\r\n      editVisible: false,\r\n      statusList: [\r\n        { id: 0, name: \"锁定\" },\r\n        { id: 1, name: \"已支付\" },\r\n        { id: 2, name: \"待支付\" },\r\n        { id: 3, name: \"不支付(取消或超时)\" }\r\n      ]\r\n    };\r\n  },\r\n  created() {\r\n    this.getTableData();\r\n  },\r\n  methods: {\r\n    //搜索功能\r\n    handleSearch() {\r\n      this.tableDataLoading = true;\r\n      this.getTableData();\r\n    },\r\n    //重置搜索条件\r\n    resetQuery() {\r\n      this.query.nickName = \"\";\r\n      this.query.orderSn = \"\";\r\n      this.query.productName = \"\";\r\n      this.query.payStatus = null;\r\n      this.tableDataLoading = true;\r\n      this.getTableData();\r\n    },\r\n    //获取数据\r\n    getTableData() {\r\n      var url = \"order/listTaskOrder\";\r\n      this.postRequest(url, this.query).then(resp => {\r\n        if (resp && resp.status == 200 && resp.data.status == \"200\") {\r\n          this.tableData = resp.data.obj.list;\r\n          this.pageTotal = resp.data.obj.total;\r\n          this.tableDataLoading = false;\r\n        }\r\n      });\r\n    },\r\n    // eslint-disable-next-line no-unused-vars\r\n    tableHeaderColor(row, rowIndex) {\r\n      return \"background-color:#EBEEF5;\";\r\n    },\r\n    handlePageChange(val) {\r\n      this.tableDataLoading = true;\r\n      this.$set(this.query, \"pageNum\", val);\r\n      this.getTableData(this.query);\r\n    },\r\n    // eslint-disable-next-line no-unused-vars\r\n    statusFormat(row, column) {\r\n      if (row.payStatus == 0) {\r\n        return \"锁定\";\r\n      } else if (row.payStatus == 1) {\r\n        return \"已支付\";\r\n      } else if (row.payStatus == 2) {\r\n        return \"待支付\";\r\n      } else if (row.payStatus == 3) {\r\n        return \"不支付(取消或超时)\";\r\n      }\r\n    },\r\n    // eslint-disable-next-line no-unused-vars\r\n    createDateFormat(row, column) {\r\n      return this.dateFormat(row.createTime);\r\n    },\r\n    // eslint-disable-next-line no-unused-vars\r\n    paymentDateFormat(row, column) {\r\n      return this.dateFormat(row.paymentTime);\r\n    },\r\n    // eslint-disable-next-line no-unused-vars\r\n    dateFormat(date) {\r\n      if (date === null) {\r\n        return null;\r\n      }\r\n      let d = new Date(date); //val 为表格内取到的后台时间\r\n      let month =\r\n        d.getMonth() + 1 < 10 ? \"0\" + (d.getMonth() + 1) : d.getMonth() + 1;\r\n      let day = d.getDate() < 10 ? \"0\" + d.getDate() : d.getDate();\r\n      let hours = d.getHours() < 10 ? \"0\" + d.getHours() : d.getHours();\r\n      let min = d.getMinutes() < 10 ? \"0\" + d.getMinutes() : d.getMinutes();\r\n      let sec = d.getSeconds() < 10 ? \"0\" + d.getSeconds() : d.getSeconds();\r\n      let times =\r\n        d.getFullYear() +\r\n        \"-\" +\r\n        month +\r\n        \"-\" +\r\n        day +\r\n        \" \" +\r\n        hours +\r\n        \":\" +\r\n        min +\r\n        \":\" +\r\n        sec;\r\n      return times;\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n.table-product-img {\r\n  display: block;\r\n  margin: auto;\r\n  width: 50px;\r\n  height: 50px;\r\n}\r\n.name-input {\r\n  width: 180px;\r\n  margin-right: 10px;\r\n}\r\n.handle-box {\r\n  margin-bottom: 10px;\r\n  text-align: left;\r\n}\r\n.type-select {\r\n  margin-right: 10px;\r\n  width: 180px;\r\n}\r\n.demo-table-expand {\r\n  font-size: 0;\r\n}\r\n.demo-table-expand label {\r\n  width: 90px;\r\n  color: #99a9bf;\r\n}\r\n.demo-table-expand .el-form-item {\r\n  margin-right: 0;\r\n  margin-bottom: 0;\r\n  width: 50%;\r\n}\r\n.upload-demo {\r\n  float: right;\r\n}\r\n</style>"]}]}