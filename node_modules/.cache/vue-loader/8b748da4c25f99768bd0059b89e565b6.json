{"remainingRequest":"D:\\Work\\jianpanHt\\jpqt\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Work\\jianpanHt\\jpqt\\src\\pages\\shop\\ShopManage.vue?vue&type=template&id=3ab17a13&scoped=true&","dependencies":[{"path":"D:\\Work\\jianpanHt\\jpqt\\src\\pages\\shop\\ShopManage.vue","mtime":1591608111701},{"path":"D:\\Work\\jianpanHt\\jpqt\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Work\\jianpanHt\\jpqt\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js","mtime":499162500000},{"path":"D:\\Work\\jianpanHt\\jpqt\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Work\\jianpanHt\\jpqt\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n<div style=\"margin-top:10px;\">\n  <div class=\"container\">\n    <!--搜索条件-->\n    <div class=\"handle-box\">\n      <el-input v-model=\"query.shopName\" placeholder=\"请输入店铺名称\" class=\"name-input\"></el-input>\n      <el-input v-model=\"query.legalPerson\" placeholder=\"请输入法人姓名\" class=\"name-input\"></el-input>\n      <el-input v-model=\"query.mobile\" placeholder=\"请输入联系手机\" class=\"name-input\"></el-input>\n      <el-button type=\"primary\" round icon=\"el-icon-search\" @click=\"handleSearch()\">搜索</el-button>\n      <el-button type=\"danger\" round icon=\"el-icon-refresh\" @click=\"resetQuery()\">重置</el-button>\n      <el-button type=\"primary\" round icon=\"el-icon-circle-plus-outline\" @click=\"handleAdd()\">添加</el-button>\n    </div>\n    <!--数据表单-->\n    <el-table\n      :data=\"tableData\"\n      :header-cell-style=\"tableHeaderColor\"\n      class=\"table\"\n      ref=\"multipleTable\"\n      header-cell-class-name=\"table-header\"\n      v-loading=\"tableDataLoading\"\n    >\n      <el-table-column label=\"序号\" type=\"index\" width=\"50\" align=\"center\"></el-table-column>\n      <el-table-column label=\"店铺logo\" width=\"200px\" align=\"center\">\n        <template slot-scope=\"scope\">\n          <el-image\n            class=\"table-banner-img\"\n            :src=\"scope.row.shopLogo\"\n            :preview-src-list=\"[scope.row.shopLogo]\"\n          ></el-image>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"shopName\" label=\"店铺名称\" align=\"center\" :show-overflow-tooltip=\"true\"></el-table-column>\n      <el-table-column prop=\"shopStar\" label=\"店铺星级\" width=\"120px\" align=\"center\"></el-table-column>\n      <el-table-column\n        prop=\"shopScore\"\n        label=\"店铺评价分\"\n        align=\"center\"\n        width=\"120px\"\n        :show-overflow-tooltip=\"true\"\n      ></el-table-column>\n      <el-table-column\n        prop=\"shopService\"\n        label=\"店铺评价分\"\n        align=\"center\"\n        width=\"120px\"\n        :show-overflow-tooltip=\"true\"\n      ></el-table-column>\n      <el-table-column\n        prop=\"legalPerson\"\n        label=\"法人代表\"\n        align=\"center\"\n        width=\"80px\"\n        :show-overflow-tooltip=\"true\"\n      ></el-table-column>\n      <el-table-column prop=\"startDate\" label=\"开店时间\" :formatter=\"startDateFormat\" align=\"center\"></el-table-column>\n      <el-table-column label=\"操作\" align=\"center\">\n        <template slot-scope=\"scope\">\n          <el-button\n            type=\"primary\"\n            icon=\"el-icon-more-outline\"\n            circle\n            @click=\"handleMore(scope.$index, scope.row)\"\n          ></el-button>\n          <el-button\n            type=\"primary\"\n            icon=\"el-icon-edit\"\n            circle\n            @click=\"handleEdit(scope.$index, scope.row)\"\n          ></el-button>\n          <el-button\n            type=\"danger\"\n            icon=\"el-icon-delete\"\n            circle\n            @click=\"handleDelete(scope.$index, scope.row)\"\n          ></el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <!-- 分页 -->\n    <div class=\"pagination\">\n      <el-pagination\n        background\n        layout=\"total, prev, pager, next\"\n        :current-page=\"query.pageNum\"\n        :page-size=\"query.pageSize\"\n        :total=\"pageTotal\"\n        @current-change=\"handlePageChange\"\n      ></el-pagination>\n    </div>\n    <!-- 弹出框 -->\n    <el-dialog\n      :title=\"dialogMessage\"\n      :visible.sync=\"editVisible\"\n      :center=\"dialogCentr\"\n      @close=\"closeDialog\"\n      top=\"50px\"\n    >\n      <el-form\n        :rules=\"ruleValidate\"\n        ref=\"saveForm\"\n        :model=\"saveForm\"\n        :inline=\"true\"\n        :lable-position=\"labelPosition\"\n        label-width=\"120px\"\n      >\n        <el-form-item label=\"店铺名称\" prop=\"shopName\">\n          <el-input v-model=\"saveForm.shopName\" placeholder=\"请输入店铺名称\" suffix-icon=\"“xxxx”\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"店铺星级\" prop=\"shopStar\">\n          <el-input v-model=\"saveForm.shopStar\" placeholder=\"请输入店铺星级\" suffix-icon=\"“xxxx”\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"店铺评价分\" prop=\"shopScore\">\n          <el-input v-model=\"saveForm.shopScore\" placeholder=\"请输入店铺评价分\" suffix-icon=\"“xxxx”\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"售后服务分\" prop=\"shopService\">\n          <el-input v-model=\"saveForm.shopService\" placeholder=\"请输入售后服务分\" suffix-icon=\"“xxxx”\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"法人代表\" prop=\"legalPerson\">\n          <el-input v-model=\"saveForm.legalPerson\" placeholder=\"请输入法姓名\" suffix-icon=\"“xxxx”\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"联系手机\" prop=\"mobile\">\n          <el-input v-model=\"saveForm.mobile\" placeholder=\"请输入联系手机\" suffix-icon=\"“xxxx”\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"座机\" prop=\"telphone\">\n          <el-input v-model=\"saveForm.telphone\" placeholder=\"请输入座机\" suffix-icon=\"“xxxx”\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"省\" prop=\"shopProvince\">\n          <el-input v-model=\"saveForm.shopProvince\" placeholder=\"请输入省\" suffix-icon=\"“xxxx”\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"市\" prop=\"shopCity\">\n          <el-input v-model=\"saveForm.shopCity\" placeholder=\"请输入市\" suffix-icon=\"“xxxx”\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"区\" prop=\"shopArea\">\n          <el-input v-model=\"saveForm.shopArea\" placeholder=\"请输入区\" suffix-icon=\"“xxxx”\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"店铺简介\" prop=\"shopDesc\">\n          <el-input v-model=\"saveForm.shopDesc\" placeholder=\"请输入座机\" suffix-icon=\"“xxxx”\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"店铺logo\" prop=\"shopLogo\" style=\"width:100%;\">\n          <el-upload\n            name=\"file\"\n            :limit=\"1\"\n            action=\"/admin/upload/file\"\n            list-type=\"picture-card\"\n            :file-list=\"fileLists\"\n            :on-preview=\"handlePictureCardPreview\"\n            :on-success=\"success\"\n            :on-remove=\"handleRemove\"\n            :on-exceed=\"handleExceed\"\n          >\n            <i class=\"el-icon-plus\"></i>\n          </el-upload>\n          <el-dialog :visible.sync=\"imgDialogVisible\" size=\"full\" :modal=\"false\" title=\"查看大图片\">\n            <img width=\"60%\" :src=\"dialogImageUrl\" alt />\n          </el-dialog>\n        </el-form-item>\n        <el-form-item label=\"营业执照\" prop=\"license\" style=\"width:100%;\">\n          <el-upload\n            name=\"file\"\n            :limit=\"1\"\n            action=\"/admin/upload/file\"\n            list-type=\"picture-card\"\n            :file-list=\"fileListsRe\"\n            :on-preview=\"handlePictureCardPreviewRe\"\n            :on-success=\"successRe\"\n            :on-remove=\"handleRemoveRe\"\n            :on-exceed=\"handleExceed\"\n          >\n            <i class=\"el-icon-plus\"></i>\n          </el-upload>\n          <el-dialog :visible.sync=\"imgDialogVisibleRe\" size=\"full\" :modal=\"false\" title=\"查看大图片\">\n            <img width=\"60%\" :src=\"dialogImageUrlRe\" alt />\n          </el-dialog>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"primary\" @click=\"saveShop()\">确定</el-button>\n        <el-button @click=\"editVisible = false\">取消</el-button>\n      </div>\n    </el-dialog>\n    <!-- 抽屉列表 -->\n    <el-drawer\n      :visible.sync=\"couponDrawer\"\n      direction=\"rtl\"\n      size=\"80%\"\n      :destroy-on-close=\"true\"\n      :withHeader=\"false\"\n      :before-close=\"handleDrawerClose\"\n    >\n      <div style=\"margin-left:10px;margin-top:10px;\">\n        <!--搜索-->\n        <div class=\"handle-box\">\n          <el-button\n            type=\"primary\"\n            round\n            icon=\"el-icon-circle-plus-outline\"\n            @click=\"handleCouponAdd()\"\n          >添加优惠券</el-button>\n        </div>\n        <!--数据-->\n        <el-table\n          :data=\"couponList\"\n          :header-cell-style=\"tableHeaderColor\"\n          v-loading=\"innerTableDataLoading\"\n        >\n          <el-table-column label=\"序号\" type=\"index\" width=\"50\" align=\"center\"></el-table-column>\n          <el-table-column\n            prop=\"productName\"\n            label=\"商品名称\"\n            align=\"center\"\n            :show-overflow-tooltip=\"true\"\n            width=\"110px\"\n          ></el-table-column>\n          <el-table-column prop=\"couponName\" label=\"优惠券名称\" align=\"center\" width=\"110px\"></el-table-column>\n          <el-table-column label=\"券面值\" align=\"center\" width=\"80px\">\n            <template slot-scope=\"scope\">￥{{scope.row.couponAmount}}</template>\n          </el-table-column>\n          <el-table-column\n            prop=\"startDate\"\n            label=\"券开始日期\"\n            :formatter=\"startDateFormat\"\n            align=\"center\"\n          ></el-table-column>min_consume_amount\n          <el-table-column prop=\"endDate\" label=\"券截止日期\" :formatter=\"endDateFormat\" align=\"center\"></el-table-column>\n          <el-table-column prop=\"couponQuantity\" label=\"券数量\" align=\"center\" width=\"70px\"></el-table-column>\n          <el-table-column prop=\"minConsumeAmount\" label=\"最低消费金额\" align=\"center\" width=\"120px\"></el-table-column>\n          <el-table-column\n            prop=\"useCon\"\n            label=\"使用条件\"\n            :formatter=\"useConFormat\"\n            align=\"center\"\n            width=\"80px\"\n          ></el-table-column>\n          <el-table-column\n            prop=\"couponStatus\"\n            label=\"状态\"\n            :formatter=\"statusFormat\"\n            align=\"center\"\n            width=\"80px\"\n          ></el-table-column>\n          <el-table-column label=\"操作\" align=\"center\">\n            <template slot-scope=\"scope\">\n              <el-button\n                type=\"primary\"\n                icon=\"el-icon-edit\"\n                circle\n                @click=\"handleCouponEdit(scope.$index, scope.row)\"\n              ></el-button>\n              <el-button\n                type=\"danger\"\n                icon=\"el-icon-delete\"\n                circle\n                @click=\"handleCouponDelete(scope.$index, scope.row)\"\n              ></el-button>\n            </template>\n          </el-table-column>\n        </el-table>\n        <div class=\"pagination\">\n          <el-pagination\n            background\n            layout=\"total, prev, pager, next\"\n            :current-page=\"couponQuery.pageNum\"\n            :page-size=\"couponQuery.pageSize\"\n            :total=\"couponPageTotal\"\n            @current-change=\"handlePageChangeCoupon\"\n          ></el-pagination>\n        </div>\n      </div>\n      <!-- 嵌套抽屉 -->\n      <el-drawer\n        size=\"50%\"\n        :append-to-body=\"true\"\n        :before-close=\"handleInnerDrawerClose\"\n        :visible.sync=\"innerDrawer\"\n        :show-close=\"false\"\n        :withHeader=\"false\"\n      >\n        <div style=\"text-align: center;\">\n          <span class=\"inner-drawer-tittle\">{{innerDrawerTittle}}</span>\n        </div>\n        <el-form\n          :rules=\"ruleValidate\"\n          ref=\"saveShopCouponForm\"\n          :model=\"saveShopCouponForm\"\n          :inline=\"true\"\n          :lable-position=\"labelPosition\"\n          label-width=\"120px\"\n        >\n          <el-form-item label=\"商品选择\" prop=\"productId\">\n            <el-select v-model=\"saveShopCouponForm.productId\" filterable placeholder=\"请选择商品\">\n              <el-option\n                v-for=\"item in productList\"\n                :key=\"item.id\"\n                :label=\"item.productName\"\n                :value=\"item.id\"\n              ></el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"券名称\" prop=\"couponName\">\n            <el-input\n              v-model=\"saveShopCouponForm.couponName\"\n              placeholder=\"请输入券名称\"\n              suffix-icon=\"“xxxx”\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"券面值\" prop=\"couponAmount\">\n            <el-input\n              v-model=\"saveShopCouponForm.couponAmount\"\n              placeholder=\"请输入券名称\"\n              suffix-icon=\"“xxxx”\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"券数量\" prop=\"couponQuantity\">\n            <el-input\n              v-model=\"saveShopCouponForm.couponQuantity\"\n              placeholder=\"请输入券数量\"\n              suffix-icon=\"“xxxx”\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"单人领取限制\" prop=\"perLimit\">\n            <el-input\n              v-model=\"saveShopCouponForm.perLimit\"\n              placeholder=\"请输入单人领取限制\"\n              suffix-icon=\"“xxxx”\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"最低消费金额\" prop=\"minConsumeAmount\">\n            <el-input\n              v-model=\"saveShopCouponForm.minConsumeAmount\"\n              placeholder=\"请输入最低消费金额\"\n              suffix-icon=\"“xxxx”\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"使用条件\" prop=\"useCon\">\n            <el-select v-model=\"saveShopCouponForm.useCon\" placeholder=\"请选择状态\">\n              <el-option\n                v-for=\"item in UseConList\"\n                :key=\"item.id\"\n                :label=\"item.name\"\n                :value=\"item.id\"\n              ></el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"状态\" prop=\"couponStatus\">\n            <el-select v-model=\"saveShopCouponForm.couponStatus\" placeholder=\"请选择商品状态\">\n              <el-option\n                v-for=\"item in couponStatusList\"\n                :key=\"item.id\"\n                :label=\"item.name\"\n                :value=\"item.id\"\n              ></el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"开始时间\" prop=\"startDate\">\n            <el-date-picker\n              v-model=\"saveShopCouponForm.startDate\"\n              type=\"datetime\"\n              placeholder=\"选择开始时间\"\n            ></el-date-picker>\n          </el-form-item>\n          <el-form-item label=\"结束时间\" prop=\"endDate\">\n            <el-date-picker\n              v-model=\"saveShopCouponForm.endDate\"\n              type=\"datetime\"\n              placeholder=\"选择结束时间\"\n            ></el-date-picker>\n          </el-form-item>\n        </el-form>\n        <div class=\"demo-drawer__footer\" style=\"text-align:center;\">\n          <el-button type=\"primary\" @click=\"saveShopCoupon()\">确 定</el-button>\n          <el-button @click=\"innerDrawerClose()\">取 消</el-button>\n        </div>\n      </el-drawer>\n    </el-drawer>\n  </div>\n</div>\n",null]}