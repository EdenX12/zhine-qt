{"remainingRequest":"D:\\Work\\jianpanHt\\jpqt\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Work\\jianpanHt\\jpqt\\src\\pages\\login\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Work\\jianpanHt\\jpqt\\src\\pages\\login\\Login.vue","mtime":1591608111680},{"path":"D:\\Work\\jianpanHt\\jpqt\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Work\\jianpanHt\\jpqt\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\Work\\jianpanHt\\jpqt\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Work\\jianpanHt\\jpqt\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nexport default {\r\n  name: \"Login\",\r\n  data() {\r\n    return {\r\n      rules: {\r\n          username: [\r\n              { required: true, message: '请输入用户名', trigger: 'blur'}\r\n          ],\r\n          password: [\r\n              { required: true, message: '请输入密码', trigger: 'blur'}\r\n          ]\r\n      },\r\n      loginForm: {\r\n        username: \"\",\r\n        password: \"\"\r\n      },\r\n      checked: true,\r\n      loading: false\r\n    };\r\n  },\r\n  methods: {\r\n    submitClick(formName) {\r\n        // 表单验证\r\n        this.$refs[formName].validate(valid => {\r\n            if(valid) {\r\n                var _this = this\r\n                this.loading = true\r\n                var url = '/login'\r\n                var params = {\r\n                    username: this.loginForm.username,\r\n                    password: this.loginForm.password\r\n                }\r\n                this.postRequestByForm(url, params)\r\n                .then(resp => {\r\n                    _this.loading = false\r\n                    if(resp && resp.status == 200) {\r\n                        var data = resp.data\r\n                        _this.$store.commit('login', data.obj)\r\n                        // 得到登陆成功后要跳转的路径\r\n                        var redirectPath = _this.$route.query.redirect\r\n                        // 注意和上面 $route 写法不一样\r\n                        _this.$router.replace({\r\n                            path: redirectPath == '/' || redirectPath == undefined ? '/home' : redirectPath\r\n                        })\r\n                    }\r\n                })\r\n            } else {\r\n                return false\r\n            }\r\n        })\r\n    }\r\n  }\r\n};\r\n",{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAuBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/pages/login","sourcesContent":["<template>\r\n  <div class=\"login-container\">\r\n    <!-- 在使用表单验证时，需要注意：\r\n    1.必须给表单对象绑定一个对象：:model=\"loginForm\"，而且不能写成：v-model=\"loginForm\"\r\n    2.所有的子控件的绑定对象必须是表单对象的内部对象，比如：v-model=\"loginForm.username\"，否则总是验证失败\r\n     -->\r\n    <el-form class=\"login-form\" :model=\"loginForm\" ref=\"loginForm\" \r\n    :rules=\"rules\" label-position=\"left\" v-loading=\"loading\">\r\n      <h3 class=\"login-title\">拆哆哆后台管理系统</h3>\r\n      <el-form-item prop=\"username\">\r\n        <el-input type=\"text\" v-model=\"loginForm.username\" auto-complete=\"off\" placeholder=\"用户名\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item prop=\"password\">\r\n        <el-input type=\"password\" v-model=\"loginForm.password\" auto-complete=\"off\" placeholder=\"密码\"></el-input>\r\n      </el-form-item>\r\n      <el-checkbox class=\"login-remember\" v-model=\"checked\">记住密码</el-checkbox>\r\n      <el-form-item>\r\n        <el-button class=\"login-button\" type=\"primary\" @click=\"submitClick('loginForm')\">登录</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: \"Login\",\r\n  data() {\r\n    return {\r\n      rules: {\r\n          username: [\r\n              { required: true, message: '请输入用户名', trigger: 'blur'}\r\n          ],\r\n          password: [\r\n              { required: true, message: '请输入密码', trigger: 'blur'}\r\n          ]\r\n      },\r\n      loginForm: {\r\n        username: \"\",\r\n        password: \"\"\r\n      },\r\n      checked: true,\r\n      loading: false\r\n    };\r\n  },\r\n  methods: {\r\n    submitClick(formName) {\r\n        // 表单验证\r\n        this.$refs[formName].validate(valid => {\r\n            if(valid) {\r\n                var _this = this\r\n                this.loading = true\r\n                var url = '/login'\r\n                var params = {\r\n                    username: this.loginForm.username,\r\n                    password: this.loginForm.password\r\n                }\r\n                this.postRequestByForm(url, params)\r\n                .then(resp => {\r\n                    _this.loading = false\r\n                    if(resp && resp.status == 200) {\r\n                        var data = resp.data\r\n                        _this.$store.commit('login', data.obj)\r\n                        // 得到登陆成功后要跳转的路径\r\n                        var redirectPath = _this.$route.query.redirect\r\n                        // 注意和上面 $route 写法不一样\r\n                        _this.$router.replace({\r\n                            path: redirectPath == '/' || redirectPath == undefined ? '/home' : redirectPath\r\n                        })\r\n                    }\r\n                })\r\n            } else {\r\n                return false\r\n            }\r\n        })\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"stylus\" scoped>\r\n  .login-container\r\n    padding 0\r\n    margin 0\r\n    border 0\r\n    .login-form\r\n      position absolute\r\n      top 50%\r\n      left 50%\r\n      width 350px\r\n      transform translate(-50%,-55%)\r\n      padding 35px 35px 15px 35px\r\n      border 1px solid #eaeaea\r\n      border-radius 15px\r\n      box-shadow 0 0 25px #cac6c6\r\n      background #fff\r\n      .login-title\r\n          margin 0 auto 40px auto\r\n          text-align center\r\n          color #505458\r\n      .login-remember\r\n          margin 0 0 35px 0\r\n          text-align left \r\n      .login-button\r\n          width 100%\r\n</style>\r\n"]}]}