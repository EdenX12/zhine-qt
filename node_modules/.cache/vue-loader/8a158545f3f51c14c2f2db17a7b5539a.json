{"remainingRequest":"D:\\Work\\jianpanHt\\jpqt\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Work\\jianpanHt\\jpqt\\src\\pages\\commodity\\ComProduct.vue?vue&type=template&id=dce89a18&scoped=true&","dependencies":[{"path":"D:\\Work\\jianpanHt\\jpqt\\src\\pages\\commodity\\ComProduct.vue","mtime":1591767936585},{"path":"D:\\Work\\jianpanHt\\jpqt\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Work\\jianpanHt\\jpqt\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js","mtime":499162500000},{"path":"D:\\Work\\jianpanHt\\jpqt\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Work\\jianpanHt\\jpqt\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n<div>\n  <div class=\"container\">\n    <!--搜索条件-->\n    <div class=\"handle-box\">\n      <el-input v-model=\"query.productName\" placeholder=\"商品名称\" class=\"name-input\"></el-input>\n      <el-select\n        v-model=\"query.shopId\"\n        placeholder=\"请选择商户\"\n        class=\"type-select\"\n        :disabled=\"shopDisabled\"\n      >\n        <el-option\n          v-for=\"item in shopList\"\n          :key=\"item.id\"\n          :label=\"item.shopName\"\n          :value=\"item.id\"\n        ></el-option>\n      </el-select>\n      <el-cascader\n        :props=\"selectProps\"\n        v-model=\"query.typeId\"\n        placeholder=\"请选择商品类别\"\n        class=\"type-select\"\n      ></el-cascader>\n      <el-select v-model=\"query.productStatus\" placeholder=\"请选择商品状态\" class=\"type-select\">\n        <el-option\n          v-for=\"item in productStatusList\"\n          :key=\"item.id\"\n          :label=\"item.name\"\n          :value=\"item.id\"\n        ></el-option>\n      </el-select>\n      <el-select v-model=\"query.productType\" placeholder=\"请选择产品类型\" class=\"type-select\">\n        <el-option\n          v-for=\"item in productTypeList\"\n          :key=\"item.id\"\n          :label=\"item.name\"\n          :value=\"item.id\"\n        ></el-option>\n      </el-select>\n      <el-button\n        class=\"query-button\"\n        type=\"primary\"\n        round\n        icon=\"el-icon-search\"\n        @click=\"handleSearch()\"\n      >搜索</el-button>\n      <el-button\n        class=\"query-button\"\n        type=\"danger\"\n        round\n        icon=\"el-icon-refresh\"\n        @click=\"resetQuery()\"\n      >重置</el-button>\n      <el-button\n        class=\"query-button\"\n        style=\"margin-right: 10px;\"\n        type=\"primary\"\n        round\n        icon=\"el-icon-circle-plus-outline\"\n        @click=\"handleAdd()\"\n      >添加</el-button>\n      <el-select\n        v-model=\"selectRecommendType\"\n        placeholder=\"请选择推荐分类\"\n        class=\"type-select\"\n        :disabled=\"recommendTypeDisabled\"\n      >\n        <el-option\n          v-for=\"item in recommendTypeData\"\n          :key=\"item.id\"\n          :label=\"item.recommendTitle\"\n          :value=\"item.id\"\n        ></el-option>\n      </el-select>\n      <el-button\n        style=\"margin-right: 10px;\"\n        class=\"query-button\"\n        type=\"primary\"\n        round\n        icon=\"el-icon-circle-plus-outline\"\n        @click=\"handleAddToRecommend()\"\n      >添加到推荐</el-button>\n      <el-select\n        v-model=\"selectActivity\"\n        placeholder=\"请选择活动\"\n        class=\"type-select\"\n        :disabled=\"activityDisabled\"\n      >\n        <el-option\n          v-for=\"item in activityData\"\n          :key=\"item.id\"\n          :label=\"item.actName\"\n          :value=\"item.id\"\n        ></el-option>\n      </el-select>\n      <el-button\n        class=\"query-button\"\n        type=\"primary\"\n        round\n        icon=\"el-icon-circle-plus-outline\"\n        @click=\"handleAddToActivity()\"\n      >添加到活动</el-button>\n      <el-button\n        class=\"query-button\"\n        type=\"primary\"\n        round\n        icon=\"el-icon-download\"\n        @click=\"downloadOrder()\"\n        :loading=\"downloadLoading\"\n      >商品导出</el-button>\n      <el-upload\n        ref=\"upload\"\n        class=\"query-button\"\n        action=\"/admin/excel/uploadProduct\"\n        :before-upload=\"beforeUpload\"\n        multiple\n        :on-change=\"changeHandler\"\n        :show-file-list=\"false\"\n        :http-request=\"excelUpload\"\n      >\n        <el-button type=\"primary\" round icon=\"el-icon-upload2\" :loading=\"uploadLoading\">点击上传</el-button>\n      </el-upload>\n    </div>\n    <!--数据表单-->\n    <el-table\n      :data=\"tableData\"\n      :header-cell-style=\"tableHeaderColor\"\n      class=\"table\"\n      ref=\"multipleTable\"\n      header-cell-class-name=\"table-header\"\n      v-loading=\"tableDataLoading\"\n      @selection-change=\"handleSelectionChange\"\n    >\n      <el-table-column type=\"selection\" width=\"50\"></el-table-column>\n      <el-table-column label=\"序号\" type=\"index\" width=\"50\" align=\"center\"></el-table-column>\n      <el-table-column label=\"商品图片\" width=\"80px\" align=\"center\">\n        <template slot-scope=\"scope\">\n          <el-image\n            class=\"table-product-img\"\n            :src=\"scope.row.productImg\"\n            :preview-src-list=\"[scope.row.productImg]\"\n          ></el-image>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"shopName\" label=\"商户名称\" align=\"center\" :show-overflow-tooltip=\"true\"></el-table-column>\n      <el-table-column\n        prop=\"productName\"\n        label=\"商品名称\"\n        align=\"center\"\n        :show-overflow-tooltip=\"true\"\n      ></el-table-column>\n      <!-- <el-table-column label=\"价格(元)\" align=\"center\" width=\"80px\">\n        <template slot-scope=\"scope\">￥{{scope.row.productPrice}}</template>\n      </el-table-column>-->\n      <el-table-column prop=\"totalNumber\" label=\"数量(任务线总数)\" align=\"center\" width=\"130px\"></el-table-column>\n      <el-table-column prop=\"taskNumber\" label=\"任务份数\" align=\"center\" width=\"80px\"></el-table-column>\n      <el-table-column\n        prop=\"productStatus\"\n        label=\"状态\"\n        :formatter=\"statusFormat\"\n        align=\"center\"\n        width=\"70px\"\n      ></el-table-column>\n      <el-table-column\n        prop=\"productType\"\n        label=\"产品类型\"\n        :formatter=\"typeFormat\"\n        align=\"center\"\n        width=\"80px\"\n      ></el-table-column>\n      <el-table-column prop=\"createTime\" label=\"创建时间\" :formatter=\"dateFormat\" align=\"center\"></el-table-column>\n      <el-table-column label=\"操作\" align=\"center\">\n        <template slot-scope=\"scope\">\n          <el-button\n            type=\"primary\"\n            icon=\"el-icon-more-outline\"\n            circle\n            @click=\"handleMore(scope.$index, scope.row)\"\n          ></el-button>\n          <el-button\n            type=\"primary\"\n            icon=\"el-icon-edit\"\n            circle\n            @click=\"handleEdit(scope.$index, scope.row)\"\n          ></el-button>\n          <!-- <el-button\n            type=\"danger\"\n            icon=\"el-icon-delete\"\n            circle\n            @click=\"handleDelete(scope.$index, scope.row)\"\n          ></el-button>-->\n        </template>\n      </el-table-column>\n    </el-table>\n    <!-- 分页 -->\n    <div class=\"pagination\">\n      <el-pagination\n        background\n        layout=\"total, prev, pager, next\"\n        :current-page=\"query.pageNum\"\n        :page-size=\"query.pageSize\"\n        :total=\"pageTotal\"\n        @current-change=\"handlePageChange\"\n      ></el-pagination>\n    </div>\n    <!-- 弹出框 -->\n    <el-dialog\n      :title=\"dialogMessage\"\n      :visible.sync=\"editVisible\"\n      :center=\"dialogCentr\"\n      @close=\"closeDialog\"\n      :before-close=\"handleClose\"\n      top=\"0\"\n      width=\"60%\"\n    >\n      <el-form\n        ref=\"saveForm\"\n        :rules=\"ruleValidate\"\n        :model=\"saveForm\"\n        :inline=\"true\"\n        label-width=\"130px\"\n        :lable-position=\"labelPosition\"\n      >\n        <el-form-item label=\"商品名称\" prop=\"productName\">\n          <el-input v-model=\"saveForm.productName\" placeholder=\"请输入商品名称\" suffix-icon=\"“xxxx”\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"所属分类\" prop=\"typeId\">\n          <el-cascader :props=\"props\" v-model=\"saveForm.typeId\" placeholder=\"请选择商品类别\"></el-cascader>\n        </el-form-item>\n        <el-form-item label=\"价格(元)\" prop=\"productPrice\">\n          <el-input\n            v-model=\"saveForm.productPrice\"\n            placeholder=\"请输入价格\"\n            onkeyup=\"this.value=this.value.replace(/[^\\d.]/g,'');\"\n            suffix-icon=\"“xxxx”\"\n          ></el-input>\n        </el-form-item>\n        <el-form-item label=\"总佣金(元)\" prop=\"totalReward\">\n          <el-input\n            v-model=\"saveForm.totalReward\"\n            :disabled=\"totalRewardDisabled\"\n            placeholder=\"请输入佣金\"\n            suffix-icon=\"“xxxx”\"\n          ></el-input>\n        </el-form-item>\n        <el-form-item label=\"任务单价(元)\" prop=\"taskPrice\">\n          <el-input\n            v-model=\"saveForm.taskPrice\"\n            :disabled=\"taskPriceDisabled\"\n            placeholder=\"请输入任务金\"\n            suffix-icon=\"“xxxx”\"\n          ></el-input>\n        </el-form-item>\n        <el-form-item label=\"任务份数\" prop=\"taskNumber\">\n          <el-input\n            v-model=\"saveForm.taskNumber\"\n            :disabled=\"taskNumberDisabled\"\n            placeholder=\"请输入任务份数\"\n            suffix-icon=\"“xxxx”\"\n          ></el-input>\n        </el-form-item>\n        <el-form-item label=\"状态\" prop=\"productStatus\">\n          <el-select v-model=\"saveForm.productStatus\" placeholder=\"请选择商品状态\">\n            <el-option\n              v-for=\"item in productStatusList\"\n              :key=\"item.id\"\n              :label=\"item.name\"\n              :value=\"item.id\"\n            ></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"产品类型\" prop=\"productType\">\n          <el-select v-model=\"saveForm.productType\" placeholder=\"请选择产品类型\">\n            <el-option\n              v-for=\"item in productTypeList\"\n              :key=\"item.id\"\n              :label=\"item.name\"\n              :value=\"item.id\"\n            ></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"商户\" prop=\"shopId\">\n          <el-select v-model=\"saveForm.shopId\" placeholder=\"请选择商户\" :disabled=\"editShopDisabled\">\n            <el-option\n              v-for=\"item in shopList\"\n              :key=\"item.id\"\n              :label=\"item.shopName\"\n              :value=\"item.id\"\n            ></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"长方形图\" prop=\"homeProductImg\" style=\"width:100%;\">\n          <el-upload\n            name=\"file\"\n            action=\"/admin/upload/file\"\n            list-type=\"picture-card\"\n            :limit=\"1\"\n            :file-list=\"homeFileLists\"\n            :on-preview=\"handlePictureCardPreview\"\n            :on-success=\"homeSuccess\"\n            :on-remove=\"handleHomeRemove\"\n            :on-exceed=\"handleExceed\"\n          >\n            <i class=\"el-icon-plus\"></i>\n          </el-upload>\n          <el-dialog :visible.sync=\"imgDialogVisible\" size=\"full\" :modal=\"false\" title=\"查看大图片\">\n            <img width=\"100%\" :src=\"dialogImageUrl\" alt />\n          </el-dialog>\n        </el-form-item>\n        <el-form-item label=\"主图上传\" prop=\"productImg\" style=\"width:100%;\">\n          <el-upload\n            name=\"file\"\n            action=\"/admin/upload/file\"\n            list-type=\"picture-card\"\n            :limit=\"1\"\n            :file-list=\"fileLists\"\n            :on-preview=\"handlePictureCardPreview\"\n            :on-success=\"success\"\n            :on-remove=\"handleRemove\"\n            :on-exceed=\"handleExceed\"\n          >\n            <i class=\"el-icon-plus\"></i>\n          </el-upload>\n          <el-dialog :visible.sync=\"imgDialogVisible\" size=\"full\" :modal=\"false\" title=\"查看大图片\">\n            <img width=\"100%\" :src=\"dialogImageUrl\" alt />\n          </el-dialog>\n        </el-form-item>\n        <el-form-item label=\"缩略图上传\" prop=\"detailProductImg\" style=\"width:100%;\">\n          <el-upload\n            name=\"file\"\n            action=\"/admin/upload/file\"\n            list-type=\"picture-card\"\n            :file-list=\"detailFileLists\"\n            :on-preview=\"handlePictureCardPreview\"\n            :on-success=\"detailSuccess\"\n            :on-remove=\"handleDetailRemove\"\n          >\n            <i class=\"el-icon-plus\"></i>\n          </el-upload>\n          <el-dialog :visible.sync=\"imgDialogVisible\" size=\"full\" :modal=\"false\" title=\"查看大图片\">\n            <img width=\"100%\" :src=\"dialogImageUrl\" alt />\n          </el-dialog>\n        </el-form-item>\n        <el-form-item label=\"商品详情\" prop=\"productDes\">\n          <quill-editor\n            v-model=\"saveForm.productDetail\"\n            :options=\"quillOption\"\n            style=\"height: 500px;width:600px;\"\n          ></quill-editor>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"primary\" @click=\"saveProduct()\" :loading=\"saveLoading\">确定</el-button>\n        <el-button @click=\"editVisible = false\">取消</el-button>\n      </div>\n    </el-dialog>\n    <!-- 抽屉 -->\n    <el-drawer\n      :visible.sync=\"productSpecDrawer\"\n      direction=\"rtl\"\n      size=\"70%\"\n      :destroy-on-close=\"true\"\n      :withHeader=\"false\"\n      :before-close=\"handleDrawerClose\"\n    >\n      <div style=\"margin-left:10px;margin-top:10px;\">\n        <!--搜索-->\n        <div class=\"handle-box\">\n          <el-button\n            type=\"primary\"\n            round\n            icon=\"el-icon-circle-plus-outline\"\n            @click=\"handleProductSpecAdd()\"\n          >添加</el-button>\n        </div>\n        <!--数据-->\n        <el-table\n          :data=\"productSpecList\"\n          :header-cell-style=\"tableHeaderColor\"\n          v-loading=\"innerTableDataLoading\"\n        >\n          <el-table-column label=\"序号\" type=\"index\" width=\"50\" align=\"center\"></el-table-column>\n          <el-table-column\n            prop=\"productSpecValueType\"\n            label=\"规格值类型\"\n            align=\"center\"\n            :show-overflow-tooltip=\"true\"\n            width=\"110px\"\n          ></el-table-column>\n          <el-table-column\n            prop=\"productSpecValueName\"\n            label=\"规格值名称\"\n            align=\"center\"\n            :show-overflow-tooltip=\"true\"\n          ></el-table-column>\n          <el-table-column label=\"商品数量\" prop=\"productNumber\" align=\"center\"></el-table-column>\n          <el-table-column label=\"商品库存\" prop=\"stockNumber\" align=\"center\"></el-table-column>\n          <el-table-column label=\"商品价格\" align=\"center\">\n            <template slot-scope=\"scope\">￥{{scope.row.productPrice}}</template>\n          </el-table-column>\n          <el-table-column label=\"划线价格\" align=\"center\">\n            <template slot-scope=\"scope\">￥{{scope.row.scribingPrice}}</template>\n          </el-table-column>\n          <el-table-column label=\"成本价格\" align=\"center\">\n            <template slot-scope=\"scope\">￥{{scope.row.costPrice}}</template>\n          </el-table-column>\n          <el-table-column prop=\"createTime\" label=\"创建时间\" :formatter=\"dateFormat\" align=\"center\"></el-table-column>\n          <el-table-column label=\"操作\" align=\"center\">\n            <template slot-scope=\"scope\">\n              <el-button\n                type=\"primary\"\n                icon=\"el-icon-edit\"\n                circle\n                @click=\"handleProductSpecEdit(scope.$index, scope.row)\"\n              ></el-button>\n              <!-- <el-button\n                type=\"danger\"\n                icon=\"el-icon-delete\"\n                circle\n                @click=\"handleProductSpecDelete(scope.$index, scope.row)\"\n              ></el-button>-->\n            </template>\n          </el-table-column>\n        </el-table>\n        <!-- 嵌套抽屉 -->\n        <el-drawer\n          size=\"60%\"\n          :append-to-body=\"true\"\n          :before-close=\"handleInnerDrawerClose\"\n          :visible.sync=\"innerDrawer\"\n          :show-close=\"false\"\n          :withHeader=\"false\"\n        >\n          <div style=\"text-align: center;\">\n            <span class=\"inner-drawer-tittle\">{{innerDrawerTittle}}</span>\n          </div>\n          <el-form\n            :rules=\"specRuleValidate\"\n            ref=\"saveProductSpecForm\"\n            :model=\"saveProductSpecForm\"\n            :inline=\"true\"\n            :lable-position=\"labelPosition\"\n            label-width=\"120px\"\n          >\n            <el-form-item style=\"margin-left:80px;\">\n              <template>\n                <el-transfer\n                  v-model=\"selectProductSpecValueList\"\n                  :data=\"productSpecValueList\"\n                  target-order=\"push\"\n                  :titles=\"transferTittle\"\n                ></el-transfer>\n              </template>\n            </el-form-item>\n            <el-form-item label=\"商品数量\" prop=\"productNumber\">\n              <el-input v-model=\"saveProductSpecForm.productNumber\" placeholder=\"请输入商品数量\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"商品价格\" prop=\"productPrice\">\n              <el-input v-model=\"saveProductSpecForm.productPrice\" placeholder=\"请输入商品价格\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"划线价格\" prop=\"scribingPrice\">\n              <el-input v-model=\"saveProductSpecForm.scribingPrice\" placeholder=\"请输入划线价格\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"成本价格\" prop=\"costPrice\">\n              <el-input v-model=\"saveProductSpecForm.costPrice\" placeholder=\"请输入成本价格\"></el-input>\n            </el-form-item>\n          </el-form>\n          <div class=\"demo-drawer__footer\" style=\"text-align:center;\">\n            <el-button type=\"primary\" @click=\"saveProductSpec()\" :loading=\"saveSpecLoading\">确 定</el-button>\n            <el-button @click=\"innerDrawerClose()\">取 消</el-button>\n          </div>\n        </el-drawer>\n      </div>\n    </el-drawer>\n  </div>\n</div>\n",null]}