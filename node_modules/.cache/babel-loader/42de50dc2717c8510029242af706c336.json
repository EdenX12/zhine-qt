{"remainingRequest":"D:\\Work\\jianpanHt\\jpqt\\node_modules\\babel-loader\\lib\\index.js!D:\\Work\\jianpanHt\\jpqt\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Work\\jianpanHt\\jpqt\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Work\\jianpanHt\\jpqt\\src\\pages\\user\\UserLevel.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Work\\jianpanHt\\jpqt\\src\\pages\\user\\UserLevel.vue","mtime":1591608111774},{"path":"D:\\Work\\jianpanHt\\jpqt\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Work\\jianpanHt\\jpqt\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\Work\\jianpanHt\\jpqt\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Work\\jianpanHt\\jpqt\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: \"funcModule\",\n  data: function data() {\n    return {\n      dialogCentr: true,\n      labelPosition: \"left\",\n      query: {\n        pageNum: 1,\n        pageSize: 10\n      },\n      tableData: [],\n      pageTotal: 0,\n      statusList: [{\n        id: 0,\n        name: \"可用\"\n      }, {\n        id: 1,\n        name: \"不可用\"\n      }],\n      typeList: [{\n        id: 1,\n        name: \"普通客户\"\n      }, {\n        id: 2,\n        name: \"商家\"\n      }, {\n        id: 3,\n        name: \"拆家\"\n      }, {\n        id: 4,\n        name: \"拆家和商家\"\n      }],\n      dialogMessage: \"\",\n      saveForm: {},\n      addOrUpdate: 0,\n      editVisible: false,\n      ruleValidate: {},\n      tableDataLoading: true\n    };\n  },\n  created: function created() {\n    this.getTableData();\n  },\n  methods: {\n    //保存等级\n    saveUserLevel: function saveUserLevel() {\n      var _this = this;\n\n      this.$refs.saveForm.validate(function (valid) {\n        if (valid) {\n          var url = \"\";\n\n          if (_this.addOrUpdate == 0) {\n            url = \"/user/insertUserLevel\";\n          } else if (_this.addOrUpdate == 1) {\n            url = \"/user/updateUserLevel\";\n          }\n\n          var params = _this.saveForm;\n\n          _this.postRequest(url, params).then(function (resp) {\n            if (resp && resp.status == 200 && resp.data.status == \"200\") {\n              _this.$message.success(\"保存成功\");\n\n              _this.editVisible = false;\n\n              _this.getTableData();\n            } else {\n              _this.$message(\"保存失败\");\n            }\n          });\n        }\n      });\n    },\n    handleDelete: function handleDelete(index, row) {\n      var _this2 = this;\n\n      this.$confirm(\"确定要删除吗？\", \"提示\", {\n        type: \"warning\"\n      }).then(function () {\n        var url = \"/user/deleteUserLevel\";\n        var params = {\n          id: row.id\n        };\n\n        _this2.postRequest(url, params).then(function (resp) {\n          if (resp && resp.status == 200 && resp.data.status == \"200\") {\n            _this2.$message.success(\"删除成功\");\n\n            _this2.getTableData();\n          } else {\n            _this2.$message(\"删除失败\");\n          }\n        });\n      }).catch(function () {});\n    },\n    //添加弹出\n    handleAdd: function handleAdd() {\n      this.dialogMessage = \"添加等级\";\n      this.addOrUpdate = 0;\n      this.editVisible = true;\n    },\n    //关闭弹窗\n    closeDialog: function closeDialog() {\n      this.resetForm(\"saveForm\");\n      this.saveForm = {};\n      this.fileLists = [];\n    },\n    resetForm: function resetForm(formName) {\n      this.$refs[formName].clearValidate();\n    },\n    getTableData: function getTableData() {\n      var _this3 = this;\n\n      var url = \"/user/listUserLevelPage\";\n      this.postRequest(url, this.query).then(function (resp) {\n        if (resp && resp.status == 200 && resp.data.status == \"200\") {\n          _this3.tableData = resp.data.obj.list;\n          _this3.pageTotal = resp.data.obj.total;\n          _this3.tableDataLoading = false;\n        }\n      });\n    },\n    //编辑弹出\n    handleEdit: function handleEdit(index, row) {\n      this.dialogMessage = \"编辑等级\";\n      this.addOrUpdate = 1;\n      this.idx = index;\n      this.saveForm = JSON.parse(JSON.stringify(row));\n      this.editVisible = true;\n    },\n    // eslint-disable-next-line no-unused-vars\n    tableHeaderColor: function tableHeaderColor(row, rowIndex) {\n      return \"background-color:#EBEEF5;\";\n    },\n    handlePageChange: function handlePageChange(val) {\n      this.tableDataLoading = true;\n      this.$set(this.query, \"pageNum\", val);\n      this.getTableData(this.query);\n    },\n    //搜索功能\n    handleSearch: function handleSearch() {\n      this.getTableData();\n    },\n    resetQuery: function resetQuery() {\n      this.query.levelName = null;\n      this.getTableData();\n    }\n  }\n};",{"version":3,"sources":["UserLevel.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div style=\"margin-top:10px\">\r\n    <div class=\"container\">\r\n      <!--搜索条件-->\r\n      <div class=\"handle-box\">\r\n        <el-input v-model=\"query.levelName\" placeholder=\"请输入等级名称\" class=\"name-input\"></el-input>\r\n        <el-button type=\"primary\" round icon=\"el-icon-search\" @click=\"handleSearch()\">搜索</el-button>\r\n        <el-button type=\"danger\" round icon=\"el-icon-refresh\" @click=\"resetQuery()\">重置</el-button>\r\n        <el-button type=\"primary\" round icon=\"el-icon-circle-plus-outline\" @click=\"handleAdd()\">添加</el-button>\r\n      </div>\r\n      <!--数据表单-->\r\n      <el-table\r\n        :data=\"tableData\"\r\n        :header-cell-style=\"tableHeaderColor\"\r\n        class=\"table\"\r\n        ref=\"multipleTable\"\r\n        header-cell-class-name=\"table-header\"\r\n        v-loading=\"tableDataLoading\"\r\n      >\r\n        <el-table-column label=\"序号\" type=\"index\" width=\"50\" align=\"center\"></el-table-column>\r\n        <el-table-column prop=\"levelType\" label=\"等级\" align=\"center\"></el-table-column>\r\n        <el-table-column prop=\"levelName\" label=\"等级名称\" align=\"center\"></el-table-column>\r\n        <el-table-column prop=\"minNumber\" label=\"达标拆豆\" align=\"center\"></el-table-column>\r\n        <el-table-column prop=\"maxNumber\" label=\"最大拆豆\" align=\"center\"></el-table-column>\r\n        <el-table-column prop=\"buyNumber\" label=\"最大购买任务线数\" align=\"center\"></el-table-column>\r\n        <el-table-column prop=\"productNumber\" label=\"最多并行商品数量\" align=\"center\"></el-table-column>\r\n        <el-table-column label=\"操作\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button\r\n              type=\"primary\"\r\n              icon=\"el-icon-edit\"\r\n              circle\r\n              @click=\"handleEdit(scope.$index, scope.row)\"\r\n            ></el-button>\r\n            <el-button\r\n              type=\"danger\"\r\n              icon=\"el-icon-delete\"\r\n              circle\r\n              @click=\"handleDelete(scope.$index, scope.row)\"\r\n            ></el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <!-- 分页 -->\r\n      <div class=\"pagination\">\r\n        <el-pagination\r\n          background\r\n          layout=\"total, prev, pager, next\"\r\n          :current-page=\"query.pageNum\"\r\n          :page-size=\"query.pageSize\"\r\n          :total=\"pageTotal\"\r\n          @current-change=\"handlePageChange\"\r\n        ></el-pagination>\r\n        <!-- 弹出框 -->\r\n        <el-dialog\r\n          :title=\"dialogMessage\"\r\n          :visible.sync=\"editVisible\"\r\n          :center=\"dialogCentr\"\r\n          @close=\"closeDialog\"\r\n        >\r\n          <el-form\r\n            :rules=\"ruleValidate\"\r\n            ref=\"saveForm\"\r\n            :model=\"saveForm\"\r\n            :inline=\"true\"\r\n            :lable-position=\"labelPosition\"\r\n            label-width=\"130px\"\r\n          >\r\n            <el-form-item label=\"等级\" prop=\"levelType\">\r\n              <el-input v-model=\"saveForm.levelType\" placeholder=\"请输入等级\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"等级名称\" prop=\"levelName\">\r\n              <el-input v-model=\"saveForm.levelName\" placeholder=\"请输入等级名称\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"达标单数\" prop=\"minNumber\">\r\n              <el-input v-model=\"saveForm.minNumber\" placeholder=\"请输入达标单数\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"最大单数\" prop=\"maxNumber\">\r\n              <el-input v-model=\"saveForm.maxNumber\" placeholder=\"请输入最大单数\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"最大购买任务线数\" prop=\"buyNumber\">\r\n              <el-input v-model=\"saveForm.buyNumber\" placeholder=\"请输入最大购买任务线数\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"最多并行商品数量\" prop=\"productNumber\">\r\n              <el-input v-model=\"saveForm.productNumber\" placeholder=\"请输入最多并行商品数量\"></el-input>\r\n            </el-form-item>\r\n          </el-form>\r\n          <div slot=\"footer\" class=\"dialog-footer\">\r\n            <el-button type=\"primary\" @click=\"saveUserLevel()\">确定</el-button>\r\n            <el-button @click=\"editVisible = false\">取消</el-button>\r\n          </div>\r\n        </el-dialog>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: \"funcModule\",\r\n  data() {\r\n    return {\r\n      dialogCentr: true,\r\n      labelPosition: \"left\",\r\n      query: {\r\n        pageNum: 1,\r\n        pageSize: 10\r\n      },\r\n      tableData: [],\r\n      pageTotal: 0,\r\n      statusList: [\r\n        { id: 0, name: \"可用\" },\r\n        { id: 1, name: \"不可用\" }\r\n      ],\r\n      typeList: [\r\n        { id: 1, name: \"普通客户\" },\r\n        { id: 2, name: \"商家\" },\r\n        { id: 3, name: \"拆家\" },\r\n        { id: 4, name: \"拆家和商家\" }\r\n      ],\r\n      dialogMessage: \"\",\r\n      saveForm: {},\r\n      addOrUpdate: 0,\r\n      editVisible: false,\r\n      ruleValidate: {},\r\n      tableDataLoading: true\r\n    };\r\n  },\r\n  created() {\r\n    this.getTableData();\r\n  },\r\n  methods: {\r\n    //保存等级\r\n    saveUserLevel() {\r\n      this.$refs.saveForm.validate(valid => {\r\n        if (valid) {\r\n          var url = \"\";\r\n          if (this.addOrUpdate == 0) {\r\n            url = \"/user/insertUserLevel\";\r\n          } else if (this.addOrUpdate == 1) {\r\n            url = \"/user/updateUserLevel\";\r\n          }\r\n          var params = this.saveForm;\r\n          this.postRequest(url, params).then(resp => {\r\n            if (resp && resp.status == 200 && resp.data.status == \"200\") {\r\n              this.$message.success(\"保存成功\");\r\n              this.editVisible = false;\r\n              this.getTableData();\r\n            } else {\r\n              this.$message(\"保存失败\");\r\n            }\r\n          });\r\n        }\r\n      });\r\n    },\r\n    handleDelete(index, row) {\r\n      this.$confirm(\"确定要删除吗？\", \"提示\", {\r\n        type: \"warning\"\r\n      })\r\n        .then(() => {\r\n          var url = \"/user/deleteUserLevel\";\r\n          var params = { id: row.id };\r\n          this.postRequest(url, params).then(resp => {\r\n            if (resp && resp.status == 200 && resp.data.status == \"200\") {\r\n              this.$message.success(\"删除成功\");\r\n              this.getTableData();\r\n            } else {\r\n              this.$message(\"删除失败\");\r\n            }\r\n          });\r\n        })\r\n        .catch(() => {});\r\n    },\r\n    //添加弹出\r\n    handleAdd() {\r\n      this.dialogMessage = \"添加等级\";\r\n      this.addOrUpdate = 0;\r\n      this.editVisible = true;\r\n    },\r\n    //关闭弹窗\r\n    closeDialog() {\r\n      this.resetForm(\"saveForm\");\r\n      this.saveForm = {};\r\n      this.fileLists = [];\r\n    },\r\n    resetForm(formName) {\r\n      this.$refs[formName].clearValidate();\r\n    },\r\n    getTableData() {\r\n      var url = \"/user/listUserLevelPage\";\r\n      this.postRequest(url, this.query).then(resp => {\r\n        if (resp && resp.status == 200 && resp.data.status == \"200\") {\r\n          this.tableData = resp.data.obj.list;\r\n          this.pageTotal = resp.data.obj.total;\r\n          this.tableDataLoading = false;\r\n        }\r\n      });\r\n    },\r\n    //编辑弹出\r\n    handleEdit(index, row) {\r\n      this.dialogMessage = \"编辑等级\";\r\n      this.addOrUpdate = 1;\r\n      this.idx = index;\r\n      this.saveForm = JSON.parse(JSON.stringify(row));\r\n      this.editVisible = true;\r\n    },\r\n    // eslint-disable-next-line no-unused-vars\r\n    tableHeaderColor(row, rowIndex) {\r\n      return \"background-color:#EBEEF5;\";\r\n    },\r\n    handlePageChange(val) {\r\n      this.tableDataLoading = true;\r\n      this.$set(this.query, \"pageNum\", val);\r\n      this.getTableData(this.query);\r\n    },\r\n    //搜索功能\r\n    handleSearch() {\r\n      this.getTableData();\r\n    },\r\n    resetQuery() {\r\n      this.query.levelName = null;\r\n      this.getTableData();\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n.table-module-img {\r\n  display: block;\r\n  margin: auto;\r\n  width: 50px;\r\n  height: 50px;\r\n}\r\n.handle-box {\r\n  margin-bottom: 10px;\r\n  text-align: left;\r\n}\r\n.name-input {\r\n  width: 200px;\r\n  margin-right: 10px;\r\n}\r\n.status-select {\r\n  margin-right: 10px;\r\n}\r\n</style>"],"sourceRoot":"src/pages/user"}]}